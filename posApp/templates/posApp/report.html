{% extends "posApp/base.html" %} {% load humanize %} {% block pageContent %}

<div class="mdc-layout-grid__cell stretch-card mdc-layout-grid__cell--span-12">
    <div class="mdc-card">
        <h4>Total sales</h4>
        <div class="d-flex my-3">
            <a href="" class="day mx-2" onclick="daily()">Daily</a>
            <button class="month mx-2" onclick="monthly()">Monthly</button>
            <a href="" class="year mx-2" onclick="yearly()">Yearly</a>
        </div>
        <div class="d-flex">
            <div class="m-2">
                <canvas id="daily-chart" class="chart"></canvas>
            </div>
            <div class="m-2">
                <canvas id="monthly-chart" class="chart"></canvas>
            </div>
        </div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
            var labels = {{dates|safe}};
            var values = {{sales|safe}};
            // var labels = [1,2,3,4,5,6]
            // var values = [1,2,3,4,5,6]
            var ctx = document.getElementById('daily-chart').getContext('2d');
            var myChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Total Sales',
                        data: values,
                        backgroundColor: '#0d6efd',
                        borderColor: '#0d6efd',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    },
                }
            });
        });
    document.addEventListener('DOMContentLoaded', function() {
            // var labels = {{dates|safe}};
            // var values = {{sales|safe}};
            var labels = [1,2,3,4,5,6]
            var values = [1,2,3,4,5,6]
            var ctx = document.getElementById('monthly-chart').getContext('2d');
            var myChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Total Sales',
                        data: values,
                        backgroundColor: '#0d6efd',
                        borderColor: '#0d6efd',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    },
                }
            });
        });
    document.addEventListener('DOMContentLoaded', function() {
            // var labels = {{dates|safe}};
            // var values = {{sales|safe}};
            var labels = [6,2,3,4,5,4]
            var values = [6,3,4,2,4,3]
            var ctx = document.getElementById('yearly-chart').getContext('2d');
            var myChart = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Total Sales',
                        data: values,
                        backgroundColor: '#0d6efd',
                        borderColor: '#0d6efd',
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    },
                }
            });
        });
</script>
{% endblock pageContent %}